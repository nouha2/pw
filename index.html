<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible"content="ie=edge">
         <title>
document
         </title>   
    </head>
    <body>
        <h1>push Notification Using node  ff
        </h1>
        <p>nchallah tekhdem </p>
 <form id ="my form"></form>
 <button onclick="subscribe()">subscribe</button> 
<script>
    addEventListener('load',async()=>{
        self.registration.sendNotification('test message',{});
        let sw =navigator.serviceWorker.register('./sw.js')
        console.log(sw)
    })
    async function subscribe(){
        let sw = await navigator.serviceWorker.ready;
        let push= await sw.pushManager.subscribe({
         userVisibleOnly:true,
         applicationServerKey: 'BP8aGUcjAbtM6EMhiSureu25W7ECUvddj8k91i5C8RXQmyqdpOM4pInKttnfAomSIjRctoC7y5MHVNGtnBu_iag'
        })
        console.log(JSON.stringify(push))
    }
</script>
    </body>
</html>